
rule "VPN Status to Telegram"
when
    Item VPN192168178201_Online changed
then
    sendTelegram("bot1", "item VPN is now %s.", VPN192168178201_Online.state.toString)
end


rule "Eddy daheim"
    when
        Item location_1 changed
    then
        sendTelegram("bot1", "Eddy %s", location_1.state)
end


rule "Cath daheim"
    when
        Item location_2 changed
    then 
        sendTelegram("bot1", "Cath %s", location_2.state)
end


rule "Alle daheim"
    when
        Item location_1 changed or
        Item location_2 changed
    then
        if(
            location_1.state == OFF &&
            location_2.state == OFF ) {
                //sendCommand(all_lights, OFF)
                sendCommand(all_presences, OFF)
        } else if (
            location_1.state == ON &&
            location_2.state == ON ) {
                //sendCommand(all_lights, ON)
                sendCommand(all_presences, ON)
                sendTelegram("bot1", ".\nAlle zu Hause")
        }
end

rule "Alle daheim"
    when
        Item all_presences changed
    then
        sendCommand(location_1, all_presences.state)
        sendCommand(location_2, all_presences.state)
        sendTelegram("bot1", " \nAlle auÃŸer Haus\n\n---> ALLES AUS <---")
end
